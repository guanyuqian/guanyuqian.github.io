(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{546:function(s,t,a){s.exports=a.p+"assets/img/Rabin-Karp.a0ff89c9.jpg"},547:function(s,t,a){s.exports=a.p+"assets/img/kmp1.bda8d474.jpg"},727:function(s,t,a){"use strict";a.r(t);var n=a(3),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"title"}),n("p",[s._v("给你两个字符串 "),n("code",[s._v("haystack")]),s._v(" 和 "),n("code",[s._v("needle")]),s._v(" ，请你在 "),n("code",[s._v("haystack")]),s._v(" 字符串中找出 "),n("code",[s._v("needle")]),s._v(" 字符串出现的第一个位置。")])]),s._v(" "),n("h2",{attrs:{id:"题目描述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#题目描述"}},[s._v("#")]),s._v(" 题目描述")]),s._v(" "),n("p",[s._v("实现 strStr() 函数。")]),s._v(" "),n("p",[s._v("给你两个字符串 haystack 和 needle ，请你在 haystack 字符串中找出 needle 字符串出现的第一个位置（下标从 0 开始）。如果不存在，则返回  -1 。")]),s._v(" "),n("blockquote",[n("p",[s._v("来源：力扣（LeetCode）\n链接：https://leetcode-cn.com/problems/implement-strstr")])]),s._v(" "),n("p",[s._v("当 needle 是空字符串时，我们应当返回什么值呢？这是一个在面试中很好的问题。")]),s._v(" "),n("p",[s._v("对于本题而言，当 needle 是空字符串时我们应当返回 0 。这与 C 语言的 strstr() 以及 Java 的 indexOf() 定义相符。")]),s._v(" "),n("h2",{attrs:{id:"示例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[s._v("#")]),s._v(" 示例")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('输入：haystack = "hello", needle = "ll"\n输出：2\n\n输入：haystack = "aaaaa", needle = "bba"\n输出：-1\n\n输入：haystack = "", needle = ""\n输出：0\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"提示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#提示"}},[s._v("#")]),s._v(" 提示")]),s._v(" "),n("ul",[n("li",[n("p",[n("code",[s._v("0 <= haystack.length, needle.length <= 5 * 104")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("haystack")]),s._v(" 和 "),n("code",[s._v("needle")]),s._v(" 仅由小写英文字符组成")])])]),s._v(" "),n("h2",{attrs:{id:"解法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#解法"}},[s._v("#")]),s._v(" 解法")]),s._v(" "),n("h3",{attrs:{id:"解法1-rabin-karp-字符串哈希"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#解法1-rabin-karp-字符串哈希"}},[s._v("#")]),s._v(" 解法1：Rabin-Karp(字符串哈希)")]),s._v(" "),n("p",[s._v("Rabin-Karp算法是由M.O.Rabin和R.A.Karp发明的一种基于散列的字符串查找算法。\nRabin_karp算法的思想是通过将字符串的比较转回成数字的比较。比较两个长度为m的字符串是否相等需要O(m)时间，而比较两个数字是否相等通常可以是O(1)。为了将字符串映射称对应的数字，需要用到哈希函数。")]),s._v(" "),n("ol",[n("li",[n("strong",[s._v("哈希函数")]),s._v(" ，定义"),n("span",{staticClass:"katex"},[n("span",{staticClass:"katex-mathml"},[n("math",[n("semantics",[n("mrow",[n("mi",[s._v("c")]),n("msub",[n("mi",[s._v("h")]),n("mi",[s._v("i")])],1)],1),n("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("ch_i")])],1)],1)],1),n("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[n("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),n("span",{staticClass:"strut bottom",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),n("span",{staticClass:"base textstyle uncramped"},[n("span",{staticClass:"mord mathit"},[s._v("c")]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit"},[s._v("h")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle cramped"},[n("span",{staticClass:"mord mathit"},[s._v("i")])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v("为字符串的第"),n("code",[s._v("i")]),s._v("位字符对应的索引值，可简单取"),n("span",{staticClass:"katex"},[n("span",{staticClass:"katex-mathml"},[n("math",[n("semantics",[n("mrow",[n("mi",[s._v("c")]),n("msub",[n("mi",[s._v("h")]),n("mi",[s._v("i")])],1),n("msup",[n("mo",[s._v("−")]),n("mrow",[n("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1),n("msup",[n("mi",[s._v("a")]),n("mrow",[n("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1)],1),n("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("ch_i - 'a'")])],1)],1)],1),n("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[n("span",{staticClass:"strut",staticStyle:{height:"0.751892em"}}),n("span",{staticClass:"strut bottom",staticStyle:{height:"0.901892em","vertical-align":"-0.15em"}}),n("span",{staticClass:"base textstyle uncramped"},[n("span",{staticClass:"mord mathit"},[s._v("c")]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit"},[s._v("h")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle cramped"},[n("span",{staticClass:"mord mathit"},[s._v("i")])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mord"},[s._v("−")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[n("span",{staticClass:"mord scriptstyle uncramped"},[n("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit"},[s._v("a")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[n("span",{staticClass:"mord scriptstyle uncramped"},[n("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v("。"),n("code",[s._v("base")]),s._v("不同位字符串的基数，一般"),n("code",[s._v("base")]),s._v("会定义为比字符数量大的素数， "),n("code",[s._v("Hash(i)")]),s._v(" 就是前"),n("code",[s._v("i")]),s._v(" 个字符的哈希值。")])]),s._v(" "),n("p",[n("span",{staticClass:"katex-display"},[n("span",{staticClass:"katex"},[n("span",{staticClass:"katex-mathml"},[n("math",[n("semantics",[n("mrow",[n("mi",[s._v("H")]),n("mi",[s._v("a")]),n("mi",[s._v("s")]),n("mi",[s._v("h")]),n("mo",[s._v("(")]),n("mi",[s._v("i")]),n("mo",[s._v(")")]),n("mo",[s._v("=")]),n("mi",[s._v("c")]),n("msub",[n("mi",[s._v("h")]),n("mn",[s._v("1")])],1),n("mo",[s._v("×")]),n("mi",[s._v("b")]),n("mi",[s._v("a")]),n("mi",[s._v("s")]),n("msup",[n("mi",[s._v("e")]),n("mrow",[n("mi",[s._v("i")]),n("mo",[s._v("−")]),n("mn",[s._v("1")])],1)],1),n("mo",[s._v("+")]),n("mi",[s._v("c")]),n("msub",[n("mi",[s._v("h")]),n("mn",[s._v("2")])],1),n("mo",[s._v("×")]),n("mi",[s._v("b")]),n("mi",[s._v("a")]),n("mi",[s._v("s")]),n("msup",[n("mi",[s._v("e")]),n("mrow",[n("mi",[s._v("i")]),n("mo",[s._v("−")]),n("mn",[s._v("2")])],1)],1),n("mo",[s._v("+")]),n("mo",[s._v("⋯")]),n("mo",[s._v("+")]),n("mi",[s._v("c")]),n("msub",[n("mi",[s._v("h")]),n("mi",[s._v("n")])],1),n("mo",[s._v("×")]),n("mi",[s._v("b")]),n("mi",[s._v("a")]),n("mi",[s._v("s")]),n("msup",[n("mi",[s._v("e")]),n("mrow",[n("mn",[s._v("0")])],1)],1)],1),n("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("Hash(i)=ch_1 \\times base^{i\t-1}+ch_2 \\times base^{i\t- 2}+\\cdots+ch_n \\times base^{0}\n")])],1)],1)],1),n("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[n("span",{staticClass:"strut",staticStyle:{height:"0.874664em"}}),n("span",{staticClass:"strut bottom",staticStyle:{height:"1.124664em","vertical-align":"-0.25em"}}),n("span",{staticClass:"base displaystyle textstyle uncramped"},[n("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.08125em"}},[s._v("H")]),n("span",{staticClass:"mord mathit"},[s._v("a")]),n("span",{staticClass:"mord mathit"},[s._v("s")]),n("span",{staticClass:"mord mathit"},[s._v("h")]),n("span",{staticClass:"mopen"},[s._v("(")]),n("span",{staticClass:"mord mathit"},[s._v("i")]),n("span",{staticClass:"mclose"},[s._v(")")]),n("span",{staticClass:"mrel"},[s._v("=")]),n("span",{staticClass:"mord mathit"},[s._v("c")]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit"},[s._v("h")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle cramped"},[n("span",{staticClass:"mord mathrm"},[s._v("1")])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),n("span",{staticClass:"mbin"},[s._v("×")]),n("span",{staticClass:"mord mathit"},[s._v("b")]),n("span",{staticClass:"mord mathit"},[s._v("a")]),n("span",{staticClass:"mord mathit"},[s._v("s")]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit"},[s._v("e")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"-0.41300000000000003em","margin-right":"0.05em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[n("span",{staticClass:"mord scriptstyle uncramped"},[n("span",{staticClass:"mord mathit"},[s._v("i")]),n("span",{staticClass:"mbin"},[s._v("−")]),n("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),n("span",{staticClass:"mbin"},[s._v("+")]),n("span",{staticClass:"mord mathit"},[s._v("c")]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit"},[s._v("h")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle cramped"},[n("span",{staticClass:"mord mathrm"},[s._v("2")])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),n("span",{staticClass:"mbin"},[s._v("×")]),n("span",{staticClass:"mord mathit"},[s._v("b")]),n("span",{staticClass:"mord mathit"},[s._v("a")]),n("span",{staticClass:"mord mathit"},[s._v("s")]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit"},[s._v("e")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"-0.41300000000000003em","margin-right":"0.05em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[n("span",{staticClass:"mord scriptstyle uncramped"},[n("span",{staticClass:"mord mathit"},[s._v("i")]),n("span",{staticClass:"mbin"},[s._v("−")]),n("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),n("span",{staticClass:"mbin"},[s._v("+")]),n("span",{staticClass:"minner"},[s._v("⋯")]),n("span",{staticClass:"mbin"},[s._v("+")]),n("span",{staticClass:"mord mathit"},[s._v("c")]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit"},[s._v("h")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle cramped"},[n("span",{staticClass:"mord mathit"},[s._v("n")])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),n("span",{staticClass:"mbin"},[s._v("×")]),n("span",{staticClass:"mord mathit"},[s._v("b")]),n("span",{staticClass:"mord mathit"},[s._v("a")]),n("span",{staticClass:"mord mathit"},[s._v("s")]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit"},[s._v("e")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[n("span",{staticClass:"mord scriptstyle uncramped"},[n("span",{staticClass:"mord mathrm"},[s._v("0")])])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])])])]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[n("strong",[s._v("取模")]),s._v("，因为采用"),n("code",[s._v("base")]),s._v("进制，这里要考虑到字符串过长带来的溢出问题，定义"),n("code",[s._v("mod")]),s._v("为取模值，一般"),n("code",[s._v("mod")]),s._v("会定义为大素数。"),n("strong",[s._v("这里需要特别注意，哈希函数取模很容易弄错，所以公式不能轻易改变。")])])]),s._v(" "),n("p",[n("span",{staticClass:"katex-display"},[n("span",{staticClass:"katex"},[n("span",{staticClass:"katex-mathml"},[n("math",[n("semantics",[n("mrow",[n("mi",[s._v("H")]),n("mi",[s._v("a")]),n("mi",[s._v("s")]),n("mi",[s._v("h")]),n("mo",[s._v("(")]),n("mi",[s._v("i")]),n("mo",[s._v(")")]),n("mo",[s._v("=")]),n("mrow",[n("mo",{attrs:{fence:"true"}},[s._v("{")]),n("mtable",[n("mtr",[n("mtd",[n("mrow",[n("mi",[s._v("c")]),n("msub",[n("mi",[s._v("h")]),n("mi",[s._v("i")])],1)],1)],1),n("mtd",[n("mrow",[n("mtext",[n("mi",{attrs:{mathvariant:"normal"}},[s._v("i")]),n("mtext"),n("mi",{attrs:{mathvariant:"normal"}},[s._v("=")]),n("mi",{attrs:{mathvariant:"normal"}},[s._v("=")]),n("mtext"),n("mn",[s._v("0")])],1)],1)],1)],1),n("mtr",[n("mtd",[n("mrow",[n("mo",[s._v("(")]),n("mi",[s._v("H")]),n("mi",[s._v("a")]),n("mi",[s._v("s")]),n("mi",[s._v("h")]),n("mo",[s._v("(")]),n("mi",[s._v("i")]),n("mo",[s._v("−")]),n("mn",[s._v("1")]),n("mo",[s._v(")")]),n("mo",[s._v("×")]),n("mi",[s._v("b")]),n("mi",[s._v("a")]),n("mi",[s._v("s")]),n("msup",[n("mi",[s._v("e")]),n("mrow",[n("mi",[s._v("i")]),n("mo",[s._v("−")]),n("mn",[s._v("1")])],1)],1),n("mo",[s._v("+")]),n("mi",[s._v("c")]),n("msub",[n("mi",[s._v("h")]),n("mi",[s._v("i")])],1),n("mo",[s._v(")")]),n("mi",{attrs:{mathvariant:"normal"}},[s._v("%")]),n("mi",[s._v("m")]),n("mi",[s._v("o")]),n("mi",[s._v("d")])],1)],1),n("mtd",[n("mrow",[n("mtext",[n("mi",{attrs:{mathvariant:"normal"}},[s._v("o")]),n("mi",{attrs:{mathvariant:"normal"}},[s._v("t")]),n("mi",{attrs:{mathvariant:"normal"}},[s._v("h")]),n("mi",{attrs:{mathvariant:"normal"}},[s._v("e")]),n("mi",{attrs:{mathvariant:"normal"}},[s._v("r")]),n("mi",{attrs:{mathvariant:"normal"}},[s._v("w")]),n("mi",{attrs:{mathvariant:"normal"}},[s._v("i")]),n("mi",{attrs:{mathvariant:"normal"}},[s._v("s")]),n("mi",{attrs:{mathvariant:"normal"}},[s._v("e")])],1)],1)],1)],1)],1)],1)],1),n("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("Hash(i)=\n\\begin{cases}\nch_i& \\text{i == 0}\\\\\n(Hash(i - 1)  \\times  base^{i - 1} + ch_i) \\% mod & \\text{otherwise}\n\\end{cases}\n")])],1)],1)],1),n("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[n("span",{staticClass:"strut",staticStyle:{height:"1.75em"}}),n("span",{staticClass:"strut bottom",staticStyle:{height:"3.0000299999999998em","vertical-align":"-1.25003em"}}),n("span",{staticClass:"base displaystyle textstyle uncramped"},[n("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.08125em"}},[s._v("H")]),n("span",{staticClass:"mord mathit"},[s._v("a")]),n("span",{staticClass:"mord mathit"},[s._v("s")]),n("span",{staticClass:"mord mathit"},[s._v("h")]),n("span",{staticClass:"mopen"},[s._v("(")]),n("span",{staticClass:"mord mathit"},[s._v("i")]),n("span",{staticClass:"mclose"},[s._v(")")]),n("span",{staticClass:"mrel"},[s._v("=")]),n("span",{staticClass:"minner displaystyle textstyle uncramped"},[n("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[n("span",{staticClass:"delimsizing size4"},[s._v("{")])]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mtable"},[n("span",{staticClass:"col-align-l"},[n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"-0.6819999999999999em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"mord displaystyle textstyle uncramped"},[n("span",{staticClass:"mord mathit"},[s._v("c")]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit"},[s._v("h")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle cramped"},[n("span",{staticClass:"mord mathit"},[s._v("i")])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])]),n("span",{staticStyle:{top:"0.7579999999999999em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"mord displaystyle textstyle uncramped"},[n("span",{staticClass:"mopen"},[s._v("(")]),n("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.08125em"}},[s._v("H")]),n("span",{staticClass:"mord mathit"},[s._v("a")]),n("span",{staticClass:"mord mathit"},[s._v("s")]),n("span",{staticClass:"mord mathit"},[s._v("h")]),n("span",{staticClass:"mopen"},[s._v("(")]),n("span",{staticClass:"mord mathit"},[s._v("i")]),n("span",{staticClass:"mbin"},[s._v("−")]),n("span",{staticClass:"mord mathrm"},[s._v("1")]),n("span",{staticClass:"mclose"},[s._v(")")]),n("span",{staticClass:"mbin"},[s._v("×")]),n("span",{staticClass:"mord mathit"},[s._v("b")]),n("span",{staticClass:"mord mathit"},[s._v("a")]),n("span",{staticClass:"mord mathit"},[s._v("s")]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit"},[s._v("e")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"-0.41300000000000003em","margin-right":"0.05em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[n("span",{staticClass:"mord scriptstyle uncramped"},[n("span",{staticClass:"mord mathit"},[s._v("i")]),n("span",{staticClass:"mbin"},[s._v("−")]),n("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),n("span",{staticClass:"mbin"},[s._v("+")]),n("span",{staticClass:"mord mathit"},[s._v("c")]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit"},[s._v("h")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle cramped"},[n("span",{staticClass:"mord mathit"},[s._v("i")])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),n("span",{staticClass:"mclose"},[s._v(")")]),n("span",{staticClass:"mord mathrm"},[s._v("%")]),n("span",{staticClass:"mord mathit"},[s._v("m")]),n("span",{staticClass:"mord mathit"},[s._v("o")]),n("span",{staticClass:"mord mathit"},[s._v("d")])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),n("span",{staticClass:"arraycolsep",staticStyle:{width:"1em"}}),n("span",{staticClass:"col-align-l"},[n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"-0.6819999999999999em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"mord displaystyle textstyle uncramped"},[n("span",{staticClass:"text mord displaystyle textstyle uncramped"},[n("span",{staticClass:"mord mathrm"},[s._v("i")]),n("span",{staticClass:"mord mspace"}),n("span",{staticClass:"mord mathrm"},[s._v("=")]),n("span",{staticClass:"mord mathrm"},[s._v("=")]),n("span",{staticClass:"mord mspace"}),n("span",{staticClass:"mord mathrm"},[s._v("0")])])])]),n("span",{staticStyle:{top:"0.7579999999999999em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"mord displaystyle textstyle uncramped"},[n("span",{staticClass:"text mord displaystyle textstyle uncramped"},[n("span",{staticClass:"mord mathrm"},[s._v("o")]),n("span",{staticClass:"mord mathrm"},[s._v("t")]),n("span",{staticClass:"mord mathrm"},[s._v("h")]),n("span",{staticClass:"mord mathrm"},[s._v("e")]),n("span",{staticClass:"mord mathrm"},[s._v("r")]),n("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.01389em"}},[s._v("w")]),n("span",{staticClass:"mord mathrm"},[s._v("i")]),n("span",{staticClass:"mord mathrm"},[s._v("s")]),n("span",{staticClass:"mord mathrm"},[s._v("e")])])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])]),n("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})])])])])])]),s._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[n("strong",[s._v("更新哈希")]),s._v("根据上述公式，再较长的字符串中可以采用滑动窗口的思想更新不同位置子串的哈希值。比如匹配字符串长度为"),n("code",[s._v("n")]),s._v("，结尾位置从"),n("code",[s._v("i")]),s._v("更新到了"),n("code",[s._v("i+1")]),s._v("。")])]),s._v(" "),n("p",[n("span",{staticClass:"katex-display"},[n("span",{staticClass:"katex"},[n("span",{staticClass:"katex-mathml"},[n("math",[n("semantics",[n("mrow",[n("mi",[s._v("H")]),n("mi",[s._v("a")]),n("mi",[s._v("s")]),n("mi",[s._v("h")]),n("mo",[s._v("(")]),n("mi",[s._v("i")]),n("mo",[s._v("+")]),n("mn",[s._v("1")]),n("mo",[s._v(")")]),n("mo",[s._v("=")]),n("mo",[s._v("(")]),n("mo",[s._v("(")]),n("mi",[s._v("H")]),n("mi",[s._v("a")]),n("mi",[s._v("s")]),n("mi",[s._v("h")]),n("mo",[s._v("(")]),n("mi",[s._v("i")]),n("mo",[s._v(")")]),n("mo",[s._v("−")]),n("mi",[s._v("c")]),n("msub",[n("mi",[s._v("h")]),n("mrow",[n("mi",[s._v("i")]),n("mo",[s._v("−")]),n("mi",[s._v("n")]),n("mo",[s._v("+")]),n("mn",[s._v("1")])],1)],1),n("mo",[s._v("∗")]),n("mi",[s._v("b")]),n("mi",[s._v("a")]),n("mi",[s._v("s")]),n("msup",[n("mi",[s._v("e")]),n("mrow",[n("mi",[s._v("n")]),n("mo",[s._v("−")]),n("mn",[s._v("1")])],1)],1),n("mo",[s._v(")")]),n("mo",[s._v("∗")]),n("mi",[s._v("b")]),n("mi",[s._v("a")]),n("mi",[s._v("s")]),n("mi",[s._v("e")]),n("mo",[s._v("+")]),n("mi",[s._v("c")]),n("msub",[n("mi",[s._v("h")]),n("mrow",[n("mi",[s._v("i")]),n("mo",[s._v("+")]),n("mn",[s._v("1")])],1)],1),n("mo",[s._v(")")]),n("mi",{attrs:{mathvariant:"normal"}},[s._v("%")]),n("mi",[s._v("m")]),n("mi",[s._v("o")]),n("mi",[s._v("d")])],1),n("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("Hash(i + 1) =((Hash(i) - ch_{i - n + 1} * base^{n - 1}) * base + ch_{i + 1}) \\% mod\n")])],1)],1)],1),n("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[n("span",{staticClass:"strut",staticStyle:{height:"0.864108em"}}),n("span",{staticClass:"strut bottom",staticStyle:{height:"1.1141079999999999em","vertical-align":"-0.25em"}}),n("span",{staticClass:"base displaystyle textstyle uncramped"},[n("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.08125em"}},[s._v("H")]),n("span",{staticClass:"mord mathit"},[s._v("a")]),n("span",{staticClass:"mord mathit"},[s._v("s")]),n("span",{staticClass:"mord mathit"},[s._v("h")]),n("span",{staticClass:"mopen"},[s._v("(")]),n("span",{staticClass:"mord mathit"},[s._v("i")]),n("span",{staticClass:"mbin"},[s._v("+")]),n("span",{staticClass:"mord mathrm"},[s._v("1")]),n("span",{staticClass:"mclose"},[s._v(")")]),n("span",{staticClass:"mrel"},[s._v("=")]),n("span",{staticClass:"mopen"},[s._v("(")]),n("span",{staticClass:"mopen"},[s._v("(")]),n("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.08125em"}},[s._v("H")]),n("span",{staticClass:"mord mathit"},[s._v("a")]),n("span",{staticClass:"mord mathit"},[s._v("s")]),n("span",{staticClass:"mord mathit"},[s._v("h")]),n("span",{staticClass:"mopen"},[s._v("(")]),n("span",{staticClass:"mord mathit"},[s._v("i")]),n("span",{staticClass:"mclose"},[s._v(")")]),n("span",{staticClass:"mbin"},[s._v("−")]),n("span",{staticClass:"mord mathit"},[s._v("c")]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit"},[s._v("h")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle cramped"},[n("span",{staticClass:"mord scriptstyle cramped"},[n("span",{staticClass:"mord mathit"},[s._v("i")]),n("span",{staticClass:"mbin"},[s._v("−")]),n("span",{staticClass:"mord mathit"},[s._v("n")]),n("span",{staticClass:"mbin"},[s._v("+")]),n("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),n("span",{staticClass:"mbin"},[s._v("∗")]),n("span",{staticClass:"mord mathit"},[s._v("b")]),n("span",{staticClass:"mord mathit"},[s._v("a")]),n("span",{staticClass:"mord mathit"},[s._v("s")]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit"},[s._v("e")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"-0.41300000000000003em","margin-right":"0.05em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[n("span",{staticClass:"mord scriptstyle uncramped"},[n("span",{staticClass:"mord mathit"},[s._v("n")]),n("span",{staticClass:"mbin"},[s._v("−")]),n("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),n("span",{staticClass:"mclose"},[s._v(")")]),n("span",{staticClass:"mbin"},[s._v("∗")]),n("span",{staticClass:"mord mathit"},[s._v("b")]),n("span",{staticClass:"mord mathit"},[s._v("a")]),n("span",{staticClass:"mord mathit"},[s._v("s")]),n("span",{staticClass:"mord mathit"},[s._v("e")]),n("span",{staticClass:"mbin"},[s._v("+")]),n("span",{staticClass:"mord mathit"},[s._v("c")]),n("span",{staticClass:"mord"},[n("span",{staticClass:"mord mathit"},[s._v("h")]),n("span",{staticClass:"vlist"},[n("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),n("span",{staticClass:"reset-textstyle scriptstyle cramped"},[n("span",{staticClass:"mord scriptstyle cramped"},[n("span",{staticClass:"mord mathit"},[s._v("i")]),n("span",{staticClass:"mbin"},[s._v("+")]),n("span",{staticClass:"mord mathrm"},[s._v("1")])])])]),n("span",{staticClass:"baseline-fix"},[n("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[n("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),n("span",{staticClass:"mclose"},[s._v(")")]),n("span",{staticClass:"mord mathrm"},[s._v("%")]),n("span",{staticClass:"mord mathit"},[s._v("m")]),n("span",{staticClass:"mord mathit"},[s._v("o")]),n("span",{staticClass:"mord mathit"},[s._v("d")])])])])])]),s._v(" "),n("p",[n("img",{attrs:{src:a(546),alt:"img"}})]),s._v(" "),n("ol",{attrs:{start:"4"}},[n("li",[n("strong",[s._v("解决冲突")]),s._v("，由于我们采用了取模的方式，所以有可能出现哈希冲突。"),n("strong",[s._v("当两个哈希值相等时，还需要遍历比较一下是否相等")]),s._v("。")])]),s._v(" "),n("p",[s._v("实现代码如下：")]),s._v(" "),n("div",{staticClass:"language-go line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-go"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("strStr")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("haystack "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" needle "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tn "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("len")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" base"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mod "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100000000000")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\n\thash1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" hash2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" highest "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("range")]),s._v(" haystack "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t\thash1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hash1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" base "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("haystack"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" mod\n\t\t\thash2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hash2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" base "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" mod\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hash1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" hash2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("equal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("haystack"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t\t\thighest "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("highest "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" base"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" mod\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t\thash1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("base "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hash1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("haystack"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" highest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("haystack"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" mod\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hash1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" hash2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("equal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("haystack"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("equal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("str1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" str2 "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bool")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("range")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("str1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" str1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" str2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br")])]),n("h3",{attrs:{id:"解法2-kmp-最长公共前后缀"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#解法2-kmp-最长公共前后缀"}},[s._v("#")]),s._v(" 解法2：KMP(最长公共前后缀)")]),s._v(" "),n("p",[s._v("KMP算法理解起来十分困难，并且网络上对KMP算法的细节设定不一样，导致看起多个博客来十分凌乱，在此次做几个关键的定义。")]),s._v(" "),n("ol",[n("li",[n("p",[n("strong",[s._v("KMP算法的本质")]),s._v("，就是记录模式串每个位置的最长公共前后缀信息，当匹配失败的时候就可以跳过一些匹配位置。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(547),alt:"img"}})])])]),s._v(" "),n("div",{staticClass:"language-go line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-go"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" j "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("len")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("haystack"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" j "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" haystack"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("j"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 当前位置不相等，则把模式串的指针移动到前一个位置")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使得 haystack[i - lcps[j - 1]:i] == needle[:lcps[j - 1]]")]),s._v("\n    \tj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" lcps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("j "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" haystack"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("j"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" j "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    \t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \tj"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[n("strong",[s._v("最长公共前后缀数组")]),s._v("，设"),n("code",[s._v("lcps[]")]),s._v("为模式串的最长公共前后缀数组，性质为："),n("p",[n("span",{staticClass:"katex-display"},[n("span",{staticClass:"katex"},[n("span",{staticClass:"katex-mathml"},[n("math",[n("semantics",[n("mrow",[n("mi",[s._v("l")]),n("mi",[s._v("c")]),n("mi",[s._v("p")]),n("mi",[s._v("s")]),n("mo",[s._v("[")]),n("mi",[s._v("i")]),n("mo",[s._v("]")]),n("mo",[s._v("⇒")]),n("mo",[s._v("[")]),n("mo",[s._v(":")]),n("mi",[s._v("l")]),n("mi",[s._v("c")]),n("mi",[s._v("p")]),n("mi",[s._v("s")]),n("mo",[s._v("[")]),n("mi",[s._v("i")]),n("mo",[s._v("]")]),n("mo",[s._v("]")]),n("mo",[s._v("=")]),n("mo",[s._v("=")]),n("mi",[s._v("n")]),n("mi",[s._v("e")]),n("mi",[s._v("d")]),n("mi",[s._v("d")]),n("mi",[s._v("l")]),n("mi",[s._v("e")]),n("mo",[s._v("[")]),n("mi",[s._v("i")]),n("mo",[s._v("−")]),n("mi",[s._v("l")]),n("mi",[s._v("c")]),n("mi",[s._v("p")]),n("mi",[s._v("s")]),n("mo",[s._v("[")]),n("mi",[s._v("i")]),n("mo",[s._v("]")]),n("mo",[s._v("+")]),n("mn",[s._v("1")]),n("mo",[s._v(":")]),n("mo",[s._v("]")])],1),n("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("lcps[i] \\Rightarrow\t[:lcps[i]] ==  neddle[i - lcps[i] + 1:]\n")])],1)],1)],1),n("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[n("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),n("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),n("span",{staticClass:"base displaystyle textstyle uncramped"},[n("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[s._v("l")]),n("span",{staticClass:"mord mathit"},[s._v("c")]),n("span",{staticClass:"mord mathit"},[s._v("p")]),n("span",{staticClass:"mord mathit"},[s._v("s")]),n("span",{staticClass:"mopen"},[s._v("[")]),n("span",{staticClass:"mord mathit"},[s._v("i")]),n("span",{staticClass:"mclose"},[s._v("]")]),n("span",{staticClass:"mrel"},[s._v("⇒")]),n("span",{staticClass:"mopen"},[s._v("[")]),n("span",{staticClass:"mrel"},[s._v(":")]),n("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[s._v("l")]),n("span",{staticClass:"mord mathit"},[s._v("c")]),n("span",{staticClass:"mord mathit"},[s._v("p")]),n("span",{staticClass:"mord mathit"},[s._v("s")]),n("span",{staticClass:"mopen"},[s._v("[")]),n("span",{staticClass:"mord mathit"},[s._v("i")]),n("span",{staticClass:"mclose"},[s._v("]")]),n("span",{staticClass:"mclose"},[s._v("]")]),n("span",{staticClass:"mrel"},[s._v("=")]),n("span",{staticClass:"mrel"},[s._v("=")]),n("span",{staticClass:"mord mathit"},[s._v("n")]),n("span",{staticClass:"mord mathit"},[s._v("e")]),n("span",{staticClass:"mord mathit"},[s._v("d")]),n("span",{staticClass:"mord mathit"},[s._v("d")]),n("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[s._v("l")]),n("span",{staticClass:"mord mathit"},[s._v("e")]),n("span",{staticClass:"mopen"},[s._v("[")]),n("span",{staticClass:"mord mathit"},[s._v("i")]),n("span",{staticClass:"mbin"},[s._v("−")]),n("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[s._v("l")]),n("span",{staticClass:"mord mathit"},[s._v("c")]),n("span",{staticClass:"mord mathit"},[s._v("p")]),n("span",{staticClass:"mord mathit"},[s._v("s")]),n("span",{staticClass:"mopen"},[s._v("[")]),n("span",{staticClass:"mord mathit"},[s._v("i")]),n("span",{staticClass:"mclose"},[s._v("]")]),n("span",{staticClass:"mbin"},[s._v("+")]),n("span",{staticClass:"mord mathrm"},[s._v("1")]),n("span",{staticClass:"mrel"},[s._v(":")]),n("span",{staticClass:"mclose"},[s._v("]")])])])])])])])]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("模式串")]),s._v(" "),n("th",[s._v("A")]),s._v(" "),n("th",[s._v("B")]),s._v(" "),n("th",[s._v("A")]),s._v(" "),n("th",[s._v("A")]),s._v(" "),n("th",[s._v("B")]),s._v(" "),n("th",[s._v("A")]),s._v(" "),n("th",[s._v("B")]),s._v(" "),n("th",[s._v("A")]),s._v(" "),n("th",[s._v("B")]),s._v(" "),n("th",[s._v("A")]),s._v(" "),n("th",[s._v("A")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("最长公共前后缀")]),s._v(" "),n("td",[s._v("0")]),s._v(" "),n("td",[s._v("0")]),s._v(" "),n("td",[s._v("1")]),s._v(" "),n("td",[s._v("1")]),s._v(" "),n("td",[s._v("2")]),s._v(" "),n("td",[s._v("3")]),s._v(" "),n("td",[s._v("0")]),s._v(" "),n("td",[s._v("1")]),s._v(" "),n("td",[s._v("2")]),s._v(" "),n("td",[s._v("3")]),s._v(" "),n("td",[s._v("4")])])])]),s._v(" "),n("div",{staticClass:"language-go line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-go"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" j "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" j "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("j"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 当前位置不相等，找到前一个比较位置")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使得 needle[i - lcps[j - 1]:i] == needle[:lcps[j - 1]]")]),s._v("\n\t\tj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" lcps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("j "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("j"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\tj"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("\n\t\tlcps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" j\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("实现代码：")]),s._v(" "),n("div",{staticClass:"language-go line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-go"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("strStr")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("haystack "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" needle "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("len")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    lcps "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("len")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" j "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" j "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("j"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            j "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" lcps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("j "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("j"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            j"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("\n            lcps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" j\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" j "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("len")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("haystack"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" j "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" haystack"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("j"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            j "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" lcps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("j "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" haystack"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" needle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("j"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" j "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            j"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);